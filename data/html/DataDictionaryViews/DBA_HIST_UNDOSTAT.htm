<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>DBA_HIST_UNDOSTAT</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="keywords" content="DBA_HIST_UNDOSTAT view" />
<meta name="dcterms.created" content="2016-10-18T15:54:59Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Reference" />
<meta name="dcterms.identifier" content="E49629-12" />
<meta name="dcterms.isVersionOf" content="REFRN" />
<link rel="Start" href="../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="DBA_HIST_TOPLEVELCALL_NAME.htm" title="Previous" type="text/html" />
<link rel="Next" href="DBA_HIST_WAITCLASSMET_HISTORY.htm" title="Next" type="text/html" />
<link rel="alternate" href="REFRN.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="REFRN.epub" title="ePub version" type="application/epub+zip">
<link rel="alternate" href="REFRN.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook">
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-85B8269B-56C2-417F-9889-1E0C61FD1D51"></a> <span id="PAGE" style="display:none;">1180/2822</span> <!-- End Header -->
<a id="REFRN23460"></a>
<h1 id="REFRN-GUID-85B8269B-56C2-417F-9889-1E0C61FD1D51" class="sect1"><span class="enumeration_section">5.82</span> DBA_HIST_UNDOSTAT</h1>
<div>
<div class="section">
<p><code>DBA_HIST_UNDOSTAT</code> displays the history of histograms of statistical data to show how well the system is working. The available statistics include undo space consumption, transaction concurrency, and length of queries executed in the instance. This view contains snapshots of <code>V$UNDOSTAT</code>.</p>
</div>
<!-- class="section" -->
<div class="tblformalwide" id="GUID-85B8269B-56C2-417F-9889-1E0C61FD1D51__GUID-63FFF183-94DD-4540-8F7F-A9A13B3F379D">
<hr />
<table class="cellalignment3903" summary="This table describes the columns for this database view">
<thead align="left">
<tr>
<th class="cellalignment3904" id="d1081539e172">Column</th>
<th class="cellalignment3905" id="d1081539e175">Datatype</th>
<th class="cellalignment3906" id="d1081539e178">NULL</th>
<th class="cellalignment3907" id="d1081539e181">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="cellalignment3904" id="d1081539e186" headers="d1081539e172">
<p><code>BEGIN_TIME</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e186 d1081539e175">
<p><code>DATE</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e186 d1081539e178">
<p><code>NOT NULL</code></p>
</td>
<td class="cellalignment3907" headers="d1081539e186 d1081539e181">
<p>Identifies the beginning of the time interval</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e202" headers="d1081539e172">
<p><code>END_TIME</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e202 d1081539e175">
<p><code>DATE</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e202 d1081539e178">
<p><code>NOT NULL</code></p>
</td>
<td class="cellalignment3907" headers="d1081539e202 d1081539e181">
<p>Identifies the end of the time interval</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e218" headers="d1081539e172">
<p><code>DBID</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e218 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e218 d1081539e178">
<p><code>NOT NULL</code></p>
</td>
<td class="cellalignment3907" headers="d1081539e218 d1081539e181">
<p>Database ID for the snapshot</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e234" headers="d1081539e172">
<p><code>INSTANCE_NUMBER</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e234 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e234 d1081539e178">
<p><code>NOT NULL</code></p>
</td>
<td class="cellalignment3907" headers="d1081539e234 d1081539e181">
<p>Instance number for the snapshot</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e250" headers="d1081539e172">
<p><code>SNAP_ID</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e250 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e250 d1081539e178">
<p><code>NOT NULL</code></p>
</td>
<td class="cellalignment3907" headers="d1081539e250 d1081539e181">
<p>Unique snapshot ID</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e266" headers="d1081539e172">
<p><code>UNDOTSN</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e266 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e266 d1081539e178">
<p><code>NOT NULL</code></p>
</td>
<td class="cellalignment3907" headers="d1081539e266 d1081539e181">
<p>Represents the last active undo tablespace in the duration of time. The tablespace ID of the active undo tablespace is returned in this column. If more than one undo tablespace was active in that period, the active undo tablespace that was active at the end of the period is reported.</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e282" headers="d1081539e172">
<p><code>UNDOBLKS</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e282 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e282 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e282 d1081539e181">
<p>Represents the total number of undo blocks consumed. You can use this column to obtain the consumption rate of undo blocks, and thereby estimate the size of the undo tablespace needed to handle the workload on your system.</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e298" headers="d1081539e172">
<p><code>TXNCOUNT</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e298 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e298 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e298 d1081539e181">
<p>Identifies the total number of transactions executed within the period</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e314" headers="d1081539e172">
<p><code>MAXQUERYLEN</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e314 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e314 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e314 d1081539e181">
<p>Identifies the length of the longest query (in number of seconds) executed in the instance during the period. You can use this statistic to estimate the proper setting of the <code>UNDO_RETENTION</code> initialization parameter. The length of a query is measured from the cursor open time to the last fetch/execute time of the cursor. Only the length of those cursors that have been fetched/executed during the period are reflected in the view.</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e333" headers="d1081539e172">
<p><code>MAXQUERYSQLID</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e333 d1081539e175">
<p><code>VARCHAR2(13)</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e333 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e333 d1081539e181">
<p>SQL identifier of the longest running SQL statement in the period</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e349" headers="d1081539e172">
<p><code>MAXCONCURRENCY</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e349 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e349 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e349 d1081539e181">
<p>Identifies the highest number of transactions executed concurrently within the period</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e366" headers="d1081539e172">
<p><code>UNXPSTEALCNT</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e366 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e366 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e366 d1081539e181">
<p>Number of attempts to obtain undo space by stealing unexpired extents from other transactions</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e382" headers="d1081539e172">
<p><code>UNXPBLKRELCNT</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e382 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e382 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e382 d1081539e181">
<p>Number of unexpired blocks removed from certain undo segments so they can be used by other transactions</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e398" headers="d1081539e172">
<p><code>UNXPBLKREUCNT</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e398 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e398 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e398 d1081539e181">
<p>Number of unexpired undo blocks reused by transactions</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e414" headers="d1081539e172">
<p><code>EXPSTEALCNT</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e414 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e414 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e414 d1081539e181">
<p>Number of attempts to steal expired undo blocks from other undo segments</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e430" headers="d1081539e172">
<p><code>EXPBLKRELCNT</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e430 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e430 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e430 d1081539e181">
<p>Number of expired undo blocks stolen from other undo segments</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e446" headers="d1081539e172">
<p><code>EXPBLKREUCNT</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e446 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e446 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e446 d1081539e181">
<p>Number of expired undo blocks reused within the same undo segments</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e462" headers="d1081539e172">
<p><code>SSOLDERRCNT</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e462 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e462 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e462 d1081539e181">
<p>Identifies the number of times the error <code>ORA-01555</code> occurred. You can use this statistic to decide whether the <code>UNDO_RETENTION</code> initialization parameter is set properly given the size of the undo tablespace. Increasing the value of <code>UNDO_RETENTION</code> can reduce the occurrence of this error.</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e487" headers="d1081539e172">
<p><code>NOSPACEERRCNT</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e487 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e487 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e487 d1081539e181">
<p>Identifies the number of times space was requested in the undo tablespace and there was no free space available. That is, all of the space in the undo tablespace was in use by active transactions. The corrective action is to add more space to the undo tablespace.</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e503" headers="d1081539e172">
<p><code>ACTIVEBLKS</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e503 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e503 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e503 d1081539e181">
<p>Total number of blocks in the active extents of the undo tablespace for the instance at the sampled time in the period</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e519" headers="d1081539e172">
<p><code>UNEXPIREDBLKS</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e519 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e519 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e519 d1081539e181">
<p>Total number of blocks in the unexpired extents of the undo tablespace for the instance at the sampled time in the period</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e535" headers="d1081539e172">
<p><code>EXPIREDBLKS</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e535 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e535 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e535 d1081539e181">
<p>Total number of blocks in the expired extents of the undo tablespace for the instance at the sampled time in the period</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e552" headers="d1081539e172">
<p><code>TUNED_UNDORETENTION</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e552 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e552 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e552 d1081539e181">
<p>System tuned value indicating the period for which undo is being retained</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e568" headers="d1081539e172">
<p><code>CON_DBID</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e568 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e568 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e568 d1081539e181">
<p>The database ID of the PDB for the sampled session</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1081539e582" headers="d1081539e172">
<p><code>CON_ID</code></p>
</td>
<td class="cellalignment3905" headers="d1081539e582 d1081539e175">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3906" headers="d1081539e582 d1081539e178">&nbsp;</td>
<td class="cellalignment3907" headers="d1081539e582 d1081539e181">
<p>The ID of the container that <code>CON_DBID</code> identifies. Possible values include:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>0</code>: This value is used for rows containing data that pertain to the entire CDB. This value is also used for rows in non-CDBs.</p>
</li>
<li>
<p><code>1</code>: This value is used for rows containing data that pertain to only the root</p>
</li>
<li>
<p><span class="italic">n</span>: Where <span class="italic">n</span> is the applicable container ID for the rows containing data</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<hr /></div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-85B8269B-56C2-417F-9889-1E0C61FD1D51__GUID-DF5AA51D-D909-4E55-B648-41E26AA902CB">
<p class="notep1">See Also:</p>
<p><span class="q">"<a href="V-UNDOSTAT.htm#GUID-39DB6CBC-AF75-4C3A-A8E1-6C923F137246">V$UNDOSTAT</a>"</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3890">
<tr>
<td class="cellalignment3897">
<table class="cellalignment3895">
<tr>
<td class="cellalignment3894"><a href="DBA_HIST_TOPLEVELCALL_NAME.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3894"><a href="DBA_HIST_WAITCLASSMET_HISTORY.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3899">
<table class="cellalignment3893">
<tr>
<td class="cellalignment3894"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3894"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3894"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3894"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3894"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3894"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
