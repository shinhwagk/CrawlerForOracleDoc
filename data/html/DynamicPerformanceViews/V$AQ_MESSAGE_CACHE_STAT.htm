<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>V$AQ_MESSAGE_CACHE_STAT</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="V$AQ_MESSAGE_CACHE_STAT displays statistics about memory management for sharded queues in the Streams pool within the System Global Area (SGA). Sharded queues use the Streams pool in units of subshards. Thus, columns of this view shows statistics at subshard level. This view shows statistics across all sharded queues." />
<meta name="keywords" content="V$AQ_MESSAGE_CACHE_STAT view" />
<meta name="dcterms.created" content="2016-10-18T15:54:59Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Reference" />
<meta name="dcterms.identifier" content="E49629-12" />
<meta name="dcterms.isVersionOf" content="REFRN" />
<link rel="Start" href="../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="V-AQ_MESSAGE_CACHE_ADVICE.htm" title="Previous" type="text/html" />
<link rel="Next" href="V-AQ_NONDUR_REGISTRATIONS.htm" title="Next" type="text/html" />
<link rel="alternate" href="REFRN.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="REFRN.epub" title="ePub version" type="application/epub+zip">
<link rel="alternate" href="REFRN.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook">
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-3C008A91-D5E3-4C8C-88CC-94B552857E7E"></a> <span id="PAGE" style="display:none;">2206/2822</span> <!-- End Header -->
<h1 id="REFRN-GUID-3C008A91-D5E3-4C8C-88CC-94B552857E7E" class="sect1"><span class="enumeration_section">7.17</span> V$AQ_MESSAGE_CACHE_STAT</h1>
<div>
<p><code>V$AQ_MESSAGE_CACHE_STAT</code> displays statistics about memory management for sharded queues in the Streams pool within the System Global Area (SGA). Sharded queues use the Streams pool in units of subshards. Thus, columns of this view shows statistics at subshard level. This view shows statistics across all sharded queues.</p>
<div class="section"></div>
<!-- class="section" -->
<div class="tblformalwide" id="GUID-3C008A91-D5E3-4C8C-88CC-94B552857E7E__GUID-F521051B-92FA-4BDD-A594-1993E7269C0D">
<hr />
<table class="cellalignment3903" summary="This table describes the columns for this database view">
<thead align="left">
<tr>
<th class="cellalignment3904" id="d1496064e167">Column</th>
<th class="cellalignment3905" id="d1496064e171">Datatype</th>
<th class="cellalignment3908" id="d1496064e175">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="cellalignment3904" id="d1496064e181" headers="d1496064e167">
<p><code>NUM_EVICTED</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e181 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e181 d1496064e175">
<p>Number of evicted subshards across all sharded queues</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e196" headers="d1496064e167">
<p><code>NUM_PREFETCHED</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e196 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e196 d1496064e175">
<p>Number of subshards pre-fetched by AQ background process</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e211" headers="d1496064e167">
<p><code>NUM_UNEVICTION</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e211 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e211 d1496064e175">
<p>Number of subshards un-evicted by foreground process (like dequeue process)</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e226" headers="d1496064e167">
<p><code>NUM_UNCACHED</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e226 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e226 d1496064e175">
<p>Number of subshards stored as uncached</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e241" headers="d1496064e167">
<p><code>NUM_TRACKED</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e241 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e241 d1496064e175">
<p>Number of subshards which are actively tracking dequeue rates</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e256" headers="d1496064e167">
<p><code>NUM_CACHED</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e256 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e256 d1496064e175">
<p>Number of subshards stored as cached</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e271" headers="d1496064e167">
<p><code>MAX_SUBSH_SIZE</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e271 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e271 d1496064e175">
<p>Maximum subshard size seen till now, in terms of number of messages per subshard</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e286" headers="d1496064e167">
<p><code>MIN_SUBSH_SIZE</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e286 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e286 d1496064e175">
<p>Minimum subshard size seen till now, in terms of number of messages per subshard</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e301" headers="d1496064e167">
<p><code>MEAN_SUBSH_SIZE</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e301 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e301 d1496064e175">
<p>Mean subshard size seen till now, in terms of number of messages per subshard</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e316" headers="d1496064e167">
<p><code>AVG_EVICTION_RATE</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e316 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e316 d1496064e175">
<p>Average number subshards evicted per second</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e331" headers="d1496064e167">
<p><code>AVG_LOAD_RATE</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e331 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e331 d1496064e175">
<p>Average number of subshards pre-fetched or un-evicted per second</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e347" headers="d1496064e167">
<p><code>AVG_EVICTION_TIME</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e347 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e347 d1496064e175">
<p>Average time taken to evict one subshard (in milliseconds)</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e362" headers="d1496064e167">
<p><code>AVG_LOAD_TIME</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e362 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e362 d1496064e175">
<p>Average time taken to un-evict one subshard (in milliseconds)</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e377" headers="d1496064e167">
<p><code>AVG_MISS_RATIO</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e377 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e377 d1496064e175">
<p>Average ratio of number of foreground un-evictions versus background pre-fetch</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e392" headers="d1496064e167">
<p><code>AVG_THRASH_RATIO</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e392 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e392 d1496064e175">
<p>Average ratio of number of subshard pre-fetched by background without dequeue attempt versus total number of subshards prefetched</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e407" headers="d1496064e167">
<p><code>MANDATORY_AFF_SWITCH_ATTEMPTS</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e407 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e407 d1496064e175">
<p>An affinity switch is a change in dequeue instance for a shard-subscriber pair. A mandatory affinity switch is when there are local enqueues in the queue at the instance but no local dequeues present, so the dequeue affinity is switched to another instance for that shard-subscriber pair. This column shows the number of times mandatory affinity switches were attempted across all instances. Populated at the smallest instance id only.</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e419" headers="d1496064e167">
<p><code>OPTIONAL_AFF_SWITCH_ATTEMPTS</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e419 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e419 d1496064e175">
<p>Optional affinity switches are affinity switches that are not mandatory. Optional affinity switches are done for global load balancing across the Oracle Real Application Clusters (Oracle RAC) database. This column shows the number of times optional affinity switches were attempted across all instances. Populated at the smallest instance id only.</p>
</td>
</tr>
<tr>
<td class="cellalignment3904" id="d1496064e431" headers="d1496064e167">
<p><code>CON_ID</code></p>
</td>
<td class="cellalignment3905" headers="d1496064e431 d1496064e171">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment3908" headers="d1496064e431 d1496064e175">
<p>The ID of the container to which the data pertains. Possible values include:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>0</code>: This value is used for rows containing data that pertain to the entire CDB. This value is also used for rows in non-CDBs.</p>
</li>
<li>
<p><code>1</code>: This value is used for rows containing data that pertain to only the root</p>
</li>
<li>
<p><span class="italic">n</span>: Where <span class="italic">n</span> is the applicable container ID for the rows containing data</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<hr /></div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<div class="infobox-note" id="GUID-3C008A91-D5E3-4C8C-88CC-94B552857E7E__GUID-8AF943B5-4491-4A45-B87F-2E361117E692">
<p class="notep1">Note:</p>
<p>This view is available starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1).</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3890">
<tr>
<td class="cellalignment3897">
<table class="cellalignment3895">
<tr>
<td class="cellalignment3894"><a href="V-AQ_MESSAGE_CACHE_ADVICE.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3894"><a href="V-AQ_NONDUR_REGISTRATIONS.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3899">
<table class="cellalignment3893">
<tr>
<td class="cellalignment3894"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3894"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3894"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3894"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3894"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3894"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
